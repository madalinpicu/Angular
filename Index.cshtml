<head>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular.min.js"></script>
    <script src="http://ajax.googleapis.com/ajax/libs/angularjs/1.3.14/angular-route.min.js"></script>
    <script src="~/Scripts/jquery-1.10.2.min.js"></script>
    <script src="~/Scripts/jquery-1.10.2.js"></script>
    <link rel="stylesheet" href="~/Content/bootstrap.css" type="text/css" />
    <link rel="stylesheet" href="~/Content/bootstrap.min.css" type="text/css" />
    <script src="~/Scripts/bootstrap.min.js"></script>
    <script src="~/Scripts/bootstrap.js"></script>


    <style>
        #nav-collapse li a:hover {
            color: blue;
        }

        #nav-collapse li.active a {
            color: white;
            background-color: #0099CC;
        }
    </style>
</head>

<body ng-app="myApp">

    <div class="jumbotron" style="height:100%">
        <nav class="navbar navbar-inverse" style="background-color:#2670AC; width:50%; margin-left:30%">
            <div class="container-fluid">
                <div class="nav-collapse" id="nav-collapse">
                    <ul class="nav navbar-nav">
                        <li><a href="#/home">Home</a></li>
                        <li><a href="#/list">List</a></li>
                        <li><a href="#/settings">Settings</a></li>
                    </ul>
                </div>
            </div>
        </nav>

        <div ng-controller="loginController" style="width: 50%; margin-left: 30%; background-color: #0099cc; ">
            <div ng-show="!Show()" id="loginDiv" style="padding-top:10%;padding-bottom:5%; padding-left:5%">
                Username: <input type="text" ng-model="username" /> <br />
                Password: <input type="password" ng-model="password" style="margin-left:4px;" /> <br /><br />
                <button class="btn btn-success" type="button" ng-click="Login()" style="margin-left:100px;">Login</button>
                <button class="btn btn-primary" type="button" ng-click="NewAccount()">New Account</button>
            </div>

            <div id="register" ng-show="Show()" style="padding-top:10%;padding-bottom:5%; padding-left:5%">
                Name: <input type="text" ng-model="nameRegister" style="margin-left:40px;" /> <br />
                Username: <input type="text" ng-model="usernameRegister" /> <br />
                Password: <input type="password" ng-model="passwordRegister" style="margin-left:4px;" /> <br /><br />
                <button class="btn btn-success" type="button" ng-click="createAccount()" style="margin-left:100px;">Create Account</button>
                <button class="btn btn-danger" type="button" ng-click="Back()">Back</button>
            </div>
        </div>
    </div>
</body>

<script>
    var myApp = angular.module('myApp', ['ngRoute']);

    myApp.config(function ($routeProvider) {
        $routeProvider.when('/home', {
            templateUrl: 'home.html',
            controller: 'HomeController'
        }).when('/list', {
            templateUrl: 'list.html',
            controller: 'ListController'
        }).when('/settings', {
            templateUrl: 'settings.html',
            controller: 'SettingsController'
        }).otherwise({
            redirectTo: 'home'
        });
    });

    myApp.controller('loginController', function ($scope, $http) {
        $scope.Login = function () {
            $http({
                method: 'POST',
                url: '/Home/Login',
                params: { 'username': $scope.username, 'password': $scope.password }
            }).then(function succes(response) {
                if (response.data == "OK") {
                }
                else {
                    alert("wrong username or password!")
                }
            }, function error(response) {
                console.log(response.statusText);
            });
        };
        $scope.NewAccount = function () {
            $scope.Show = function () {
                return true;
            };
        };

        $scope.Back = function () {
            $scope.Show = false;
        };
    });

</script>